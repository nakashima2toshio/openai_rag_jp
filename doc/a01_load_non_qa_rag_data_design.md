# a01_load_non_qa_rag_data.py - è©³ç´°è¨­è¨ˆæ›¸

## ğŸ“‹ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±

- **ãƒ•ã‚¡ã‚¤ãƒ«å**: a01_load_non_qa_rag_data.py
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
- **ä½œæˆæ—¥**: 2025-10-03
- **ç¨®åˆ¥**: è©³ç´°è¨­è¨ˆæ›¸ï¼ˆDetailed Design Documentï¼‰
- **ç›®çš„**: éQ&Aå‹RAGãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ„ãƒ¼ãƒ«ã®å†…éƒ¨è¨­è¨ˆã¨å®Ÿè£…è©³ç´°

---

## ğŸ“š ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#1-ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](#2-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ)
3. [ã‚¯ãƒ©ã‚¹è¨­è¨ˆ](#3-ã‚¯ãƒ©ã‚¹è¨­è¨ˆ)
4. [é–¢æ•°è¨­è¨ˆ](#4-é–¢æ•°è¨­è¨ˆ)
5. [ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼](#5-ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼)
6. [ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾å­˜é–¢ä¿‚](#6-ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾å­˜é–¢ä¿‚)
7. [çŠ¶æ…‹ç®¡ç†](#7-çŠ¶æ…‹ç®¡ç†)
8. [ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°](#8-ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°)
9. [è¨­å®šç®¡ç†](#9-è¨­å®šç®¡ç†)

---

## 1. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### 1.1 ã‚·ã‚¹ãƒ†ãƒ ç›®çš„

éQ&Aå‹ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆWikipediaã€ãƒ‹ãƒ¥ãƒ¼ã‚¹è¨˜äº‹ã€å­¦è¡“è«–æ–‡ã€ã‚³ãƒ¼ãƒ‰ç­‰ï¼‰ã‚’RAGã‚·ã‚¹ãƒ†ãƒ ç”¨ã«å‰å‡¦ç†ã™ã‚‹Streamlitãƒ™ãƒ¼ã‚¹ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

### 1.2 ä¸»è¦æ©Ÿèƒ½

| æ©Ÿèƒ½ID | æ©Ÿèƒ½å | èª¬æ˜ |
|--------|--------|------|
| F001 | ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆé¸æŠ | 7ç¨®é¡ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¿ã‚¤ãƒ—ã‹ã‚‰é¸æŠ |
| F002 | ãƒ‡ãƒ¼ã‚¿å–å¾— | CSVã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¾ãŸã¯HuggingFaceã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ |
| F003 | ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ | åŸºæœ¬æ¤œè¨¼ã¨ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå›ºæœ‰æ¤œè¨¼ |
| F004 | ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º | ã‚¿ã‚¤ãƒˆãƒ«ãƒ»æœ¬æ–‡ã®çµåˆã¨ã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚° |
| F005 | å‰å‡¦ç†å®Ÿè¡Œ | çŸ­æ–‡é™¤å¤–ã€é‡è¤‡é™¤å» |
| F006 | ãƒˆãƒ¼ã‚¯ãƒ³æ¨å®š | OpenAI Embeddingä½¿ç”¨é‡ã®æ¨å®š |
| F007 | ãƒ‡ãƒ¼ã‚¿å‡ºåŠ› | CSV/TXT/JSONå½¢å¼ã§ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ä¿å­˜ |

### 1.3 å¯¾å¿œãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ

```
1. wikipedia_ja      : Wikipediaæ—¥æœ¬èªç‰ˆ
2. livedoor_news    : livedoorãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‘ã‚¹
3. cc_news          : CC-Newsï¼ˆè‹±èªãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼‰
4. pubmed           : PubMed Abstractsï¼ˆåŒ»å­¦è«–æ–‡ï¼‰
5. arxiv            : arXiv Datasetï¼ˆå­¦è¡“è«–æ–‡ï¼‰
6. github_code      : GitHub Codeï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ï¼‰
7. stackoverflow    : Stack Overflowï¼ˆæŠ€è¡“Q&Aï¼‰
```

---

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### 2.1 å…¨ä½“æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Streamlit UI Layer                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Upload   â”‚ Validate â”‚ Process  â”‚ Download â”‚ â”‚
â”‚  â”‚   Tab    â”‚   Tab    â”‚   Tab    â”‚   Tab    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Application Logic Layer                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  main() - ãƒ¡ã‚¤ãƒ³å‡¦ç†ãƒ•ãƒ­ãƒ¼               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Business Logic Layer                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Config     â”‚ Validation  â”‚ Processing    â”‚  â”‚
â”‚  â”‚ Management â”‚ Functions   â”‚ Functions     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Helper Module Layer                    â”‚
â”‚         (helper_rag.py)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ validate_data, clean_text,                 â”‚ â”‚
â”‚  â”‚ estimate_token_usage, save_files, etc.     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          External Services                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ HuggingFace  â”‚ File System  â”‚ Session     â”‚ â”‚
â”‚  â”‚ Datasets     â”‚ (I/O)        â”‚ State       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å‡¦ç†ãƒ•ãƒ­ãƒ¼æ¦‚è¦

```
[èµ·å‹•] â†’ [è¨­å®šé¸æŠ] â†’ [ãƒ‡ãƒ¼ã‚¿å–å¾—] â†’ [æ¤œè¨¼] â†’ [å‰å‡¦ç†] â†’ [å‡ºåŠ›]
   â†“         â†“           â†“          â†“        â†“        â†“
 main()  sidebar   tab1(upload)  tab2    tab3     tab4
                      â†“                    â†“
                 HF Dataset          extract_text
                      â†“                    â†“
                 session_state       session_state
```

---

## 3. ã‚¯ãƒ©ã‚¹è¨­è¨ˆ

### 3.1 NonQARAGConfig ã‚¯ãƒ©ã‚¹

**ç›®çš„**: ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆè¨­å®šã®ä¸€å…ƒç®¡ç†

**ã‚¯ãƒ©ã‚¹å›³**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       NonQARAGConfig                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + DATASET_CONFIGS: Dict[str, Dict]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + get_config(dataset_type) â†’ Dict   â”‚
â”‚ + get_all_datasets() â†’ List[str]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å±æ€§è¨­è¨ˆ**:

```python
DATASET_CONFIGS = {
    "dataset_key": {
        "name": str,              # è¡¨ç¤ºå
        "icon": str,              # ã‚¢ã‚¤ã‚³ãƒ³
        "required_columns": List[str],  # å¿…é ˆã‚«ãƒ©ãƒ 
        "description": str,       # èª¬æ˜
        "hf_dataset": str,        # HuggingFaceãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå
        "hf_config": Optional[str],     # Configå
        "split": str,             # Splitå
        "port": int,              # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆç•ªå·
        "text_field": str,        # ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å
        "title_field": Optional[str],   # ã‚¿ã‚¤ãƒˆãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å
        "sample_size": int        # æ¨å¥¨ã‚µãƒ³ãƒ—ãƒ«æ•°
    }
}
```

**ãƒ¡ã‚½ãƒƒãƒ‰è¨­è¨ˆ**:

| ãƒ¡ã‚½ãƒƒãƒ‰å | è¡Œç•ªå· | èª¬æ˜ | å¼•æ•° | æˆ»ã‚Šå€¤ |
|-----------|--------|------|------|--------|
| get_config | 181-195 | ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆè¨­å®šå–å¾— | dataset_type: str | Dict[str, Any] |
| get_all_datasets | 197-200 | å…¨ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚­ãƒ¼å–å¾— | ãªã— | List[str] |

**å®Ÿè£…è©³ç´°**:
- `get_config`: æŒ‡å®šã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¿ã‚¤ãƒ—ã®è¨­å®šã‚’è¿”ã™ã€‚å­˜åœ¨ã—ãªã„å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’è¿”ã™
- `get_all_datasets`: DATASET_CONFIGSã®ã‚­ãƒ¼ãƒªã‚¹ãƒˆã‚’è¿”ã™

---

## 4. é–¢æ•°è¨­è¨ˆ

### 4.1 æ¤œè¨¼é–¢æ•°ç¾¤

#### 4.1.1 validate_wikipedia_data_specific()

**ç›®çš„**: Wikipediaç‰¹æœ‰ã®ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼

**ã‚·ã‚°ãƒãƒãƒ£**:
```python
def validate_wikipedia_data_specific(df: pd.DataFrame) -> List[str]
```

**è¡Œç•ªå·**: 207-233

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
```
å…¥åŠ›: DataFrame
  â†“
ãƒ†ã‚­ã‚¹ãƒˆé•·ãƒã‚§ãƒƒã‚¯ï¼ˆå¹³å‡ï¼‰
  â†“
Wikiãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—æ¤œå‡º
  â†“
ã‚¿ã‚¤ãƒˆãƒ«é‡è¤‡ãƒã‚§ãƒƒã‚¯
  â†“
å‡ºåŠ›: æ¤œè¨¼çµæœãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚¹ãƒˆ
```

**æ¤œè¨¼é …ç›®**:
1. å¹³å‡ãƒ†ã‚­ã‚¹ãƒˆé•·ï¼ˆåŸºæº–: 100æ–‡å­—ï¼‰
2. Wikiãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ï¼ˆ`==`, `[[`, `]]`ï¼‰ã®å«æœ‰ç‡
3. ã‚¿ã‚¤ãƒˆãƒ«ã®é‡è¤‡æ•°

#### 4.1.2 validate_news_data_specific()

**ç›®çš„**: ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ç‰¹æœ‰ã®æ¤œè¨¼

**ã‚·ã‚°ãƒãƒãƒ£**:
```python
def validate_news_data_specific(df: pd.DataFrame, dataset_type: str) -> List[str]
```

**è¡Œç•ªå·**: 236-264

**æ¤œè¨¼é …ç›®**:
1. å¹³å‡è¨˜äº‹é•·
2. çŸ­ã„è¨˜äº‹ï¼ˆ<100æ–‡å­—ï¼‰ã®å‰²åˆ
3. ã‚«ãƒ†ã‚´ãƒªåˆ†å¸ƒï¼ˆlivedoorã®å ´åˆï¼‰

#### 4.1.3 validate_scientific_data_specific()

**ç›®çš„**: å­¦è¡“è«–æ–‡ãƒ‡ãƒ¼ã‚¿ç‰¹æœ‰ã®æ¤œè¨¼

**ã‚·ã‚°ãƒãƒãƒ£**:
```python
def validate_scientific_data_specific(df: pd.DataFrame, dataset_type: str) -> List[str]
```

**è¡Œç•ªå·**: 267-303

**æ¤œè¨¼é …ç›®**:
1. å¹³å‡è¦æ—¨é•·
2. å­¦è¡“ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å«æœ‰ç‡
3. åŒ»å­¦ç”¨èªå«æœ‰ç‡ï¼ˆPubMedã®å ´åˆï¼‰
4. æœ¬æ–‡å­˜åœ¨ç¢ºèªï¼ˆarXivã®å ´åˆï¼‰

#### 4.1.4 validate_code_data_specific()

**ç›®çš„**: ã‚³ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ç‰¹æœ‰ã®æ¤œè¨¼

**ã‚·ã‚°ãƒãƒãƒ£**:
```python
def validate_code_data_specific(df: pd.DataFrame) -> List[str]
```

**è¡Œç•ªå·**: 306-330

**æ¤œè¨¼é …ç›®**:
1. å¹³å‡ã‚³ãƒ¼ãƒ‰é•·
2. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ–‡å­—åˆ—å­˜åœ¨ç‡
3. ã‚³ãƒ¼ãƒ‰ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å«æœ‰ç‡

#### 4.1.5 validate_stackoverflow_data_specific()

**ç›®çš„**: Stack Overflowç‰¹æœ‰ã®æ¤œè¨¼

**ã‚·ã‚°ãƒãƒãƒ£**:
```python
def validate_stackoverflow_data_specific(df: pd.DataFrame) -> List[str]
```

**è¡Œç•ªå·**: 333-371

**æ¤œè¨¼é …ç›®**:
1. å¹³å‡è³ªå•é•·
2. ã‚¿ã‚°ä»˜ãè³ªå•ã®å‰²åˆ
3. äººæ°—ã‚¿ã‚°Top5
4. æŠ€è¡“ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å«æœ‰ç‡

### 4.2 ãƒ‡ãƒ¼ã‚¿å‡¦ç†é–¢æ•°

#### 4.2.1 extract_text_content()

**ç›®çš„**: ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŠ½å‡ºãƒ»çµåˆ

**ã‚·ã‚°ãƒãƒãƒ£**:
```python
@safe_execute
def extract_text_content(df: pd.DataFrame, dataset_type: str) -> pd.DataFrame
```

**è¡Œç•ªå·**: 378-421

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
```
å…¥åŠ›: DataFrame, dataset_type
  â†“
è¨­å®šå–å¾—ï¼ˆtext_field, title_fieldï¼‰
  â†“
ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ†ã‚­ã‚¹ãƒˆçµåˆ
  â”œâ”€ ã‚¿ã‚¤ãƒˆãƒ«ã‚ã‚Š â†’ title + text
  â””â”€ ã‚¿ã‚¤ãƒˆãƒ«ãªã— â†’ text ã®ã¿
  â†“
ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå›ºæœ‰å‡¦ç†
  â”œâ”€ github_code â†’ func_name + docs + code
  â””â”€ arxiv â†’ abstract + article[0:1000]
  â†“
ç©ºãƒ†ã‚­ã‚¹ãƒˆé™¤å¤–
  â†“
å‡ºåŠ›: Combined_Textã‚«ãƒ©ãƒ ä»˜ãDataFrame
```

**ç‰¹æ®Šå‡¦ç†**:
- GitHub Code: é–¢æ•°åã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ã‚³ãƒ¼ãƒ‰ã‚’çµåˆ
- arXiv: è¦æ—¨ã¨æœ¬æ–‡ã®æœ€åˆã®1000æ–‡å­—ã‚’çµåˆ

**ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿**: `@safe_execute` - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’æä¾›

### 4.3 ãƒ¡ã‚¤ãƒ³å‡¦ç†é–¢æ•°

#### 4.3.1 main()

**ç›®çš„**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¤ãƒ³å‡¦ç†

**ã‚·ã‚°ãƒãƒãƒ£**:
```python
def main() -> None
```

**è¡Œç•ªå·**: 428-972

**å‡¦ç†ãƒ–ãƒ­ãƒƒã‚¯æ§‹æˆ**:

```
main()
â”œâ”€ ãƒšãƒ¼ã‚¸è¨­å®š (436-443)
â”œâ”€ ã‚µã‚¤ãƒ‰ãƒãƒ¼è¨­å®š (446-550)
â”‚  â”œâ”€ ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¿ã‚¤ãƒ—é¸æŠ (451-467)
â”‚  â”œâ”€ ãƒ¢ãƒ‡ãƒ«é¸æŠ (478-480)
â”‚  â””â”€ ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå›ºæœ‰è¨­å®š (483-550)
â”œâ”€ ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ (552-554)
â”œâ”€ ã‚¿ãƒ–1: ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (604-721)
â”‚  â”œâ”€ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (608-612)
â”‚  â”œâ”€ HuggingFaceãƒ­ãƒ¼ãƒ‰ (617-696)
â”‚  â””â”€ ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ (706-721)
â”œâ”€ ã‚¿ãƒ–2: ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ (724-771)
â”‚  â”œâ”€ åŸºæœ¬æ¤œè¨¼ (733-734)
â”‚  â”œâ”€ ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå›ºæœ‰æ¤œè¨¼ (737-752)
â”‚  â””â”€ ã‚µãƒ³ãƒ—ãƒ«è¡¨ç¤º (765-770)
â”œâ”€ ã‚¿ãƒ–3: å‰å‡¦ç†å®Ÿè¡Œ (773-873)
â”‚  â”œâ”€ å‰å‡¦ç†è¨­å®š (782-805)
â”‚  â”œâ”€ å‡¦ç†å®Ÿè¡Œ (807-848)
â”‚  â””â”€ çµæœè¡¨ç¤º (851-873)
â””â”€ ã‚¿ãƒ–4: çµæœãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ (876-968)
   â”œâ”€ å‡¦ç†ã‚µãƒãƒªãƒ¼ (886-896)
   â”œâ”€ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ (899-944)
   â”œâ”€ ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ (947-961)
   â””â”€ ã‚µãƒ³ãƒ—ãƒ«è¡¨ç¤º (964-968)
```

---

## 5. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### 5.1 ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ•ãƒ­ãƒ¼

```
[ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›]
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ‡ãƒ¼ã‚¿é¸æŠ  â”‚
â”‚ - CSV       â”‚
â”‚ - HF Datasetâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿       â”‚
â”‚ pd.read_csv() or    â”‚
â”‚ hf_load_dataset()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DataFrameå¤‰æ›       â”‚
â”‚ to_pandas()         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ session_stateä¿å­˜   â”‚
â”‚ ['uploaded_data']   â”‚
â”‚ ['uploaded_columns']â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜        â”‚
â”‚ datasets/*.csv      â”‚
â”‚ datasets/*_meta.jsonâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 æ¤œè¨¼ãƒ•ãƒ­ãƒ¼

```
session_state['uploaded_data']
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸºæœ¬æ¤œè¨¼            â”‚
â”‚ validate_data()     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå›ºæœ‰æ¤œè¨¼ â”‚
â”‚ validate_*_specific()â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¤œè¨¼çµæœè¡¨ç¤º        â”‚
â”‚ âœ… / âš ï¸ / ğŸ’¡      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 å‰å‡¦ç†ãƒ•ãƒ­ãƒ¼

```
session_state['uploaded_data']
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºãƒ»çµåˆ      â”‚
â”‚ extract_text_content()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çŸ­æ–‡é™¤å¤–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰   â”‚
â”‚ len < min_length        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é‡è¤‡é™¤å»ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰   â”‚
â”‚ drop_duplicates()       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒªã‚»ãƒƒãƒˆ     â”‚
â”‚ reset_index(drop=True)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ session_stateä¿å­˜       â”‚
â”‚ ['processed_data']      â”‚
â”‚ ['processing_config']   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4 å‡ºåŠ›ãƒ•ãƒ­ãƒ¼

```
session_state['processed_data']
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CSVä½œæˆ      â”‚ TXTä½œæˆ      â”‚ JSONä½œæˆ     â”‚
â”‚ to_csv()     â”‚ '\n'.join()  â”‚ json.dumps() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“            â†“            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â”‚ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â”‚ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â”‚
â”‚ (ãƒ–ãƒ©ã‚¦ã‚¶)   â”‚ (ãƒ–ãƒ©ã‚¦ã‚¶)   â”‚ (ãƒ–ãƒ©ã‚¦ã‚¶)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰                    â”‚
â”‚ OUTPUT/preprocessed_*.csv                   â”‚
â”‚ OUTPUT/*.txt                                â”‚
â”‚ OUTPUT/metadata_*.json                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾å­˜é–¢ä¿‚

### 6.1 å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¾å­˜

```
a01_load_non_qa_rag_data.py
â”œâ”€ streamlit (UI)
â”œâ”€ pandas (ãƒ‡ãƒ¼ã‚¿å‡¦ç†)
â”œâ”€ json (ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿)
â”œâ”€ io (ãƒãƒƒãƒ•ã‚¡å‡¦ç†)
â”œâ”€ datetime (ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—)
â”œâ”€ pathlib (ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹)
â”œâ”€ logging (ãƒ­ã‚®ãƒ³ã‚°)
â””â”€ typing (å‹ãƒ’ãƒ³ãƒˆ)
```

### 6.2 å†…éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾å­˜

```
a01_load_non_qa_rag_data.py
â””â”€ helper_rag.py
   â”œâ”€ setup_page_config()
   â”œâ”€ setup_page_header()
   â”œâ”€ setup_sidebar_header()
   â”œâ”€ select_model()
   â”œâ”€ show_model_info()
   â”œâ”€ validate_data()
   â”œâ”€ load_dataset()
   â”œâ”€ estimate_token_usage()
   â”œâ”€ create_download_data()
   â”œâ”€ display_statistics()
   â”œâ”€ save_files_to_output()
   â”œâ”€ show_usage_instructions()
   â”œâ”€ clean_text()
   â”œâ”€ TokenManager (ã‚¯ãƒ©ã‚¹)
   â””â”€ safe_execute (ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿)
```

### 6.3 HuggingFace Datasetsä¾å­˜

```
datasets ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”œâ”€ load_dataset()
â”‚  â”œâ”€ dataset_name: str
â”‚  â”œâ”€ config: Optional[str]
â”‚  â””â”€ split: str
â””â”€ Dataset
   â””â”€ to_pandas() â†’ pd.DataFrame
```

---

## 7. çŠ¶æ…‹ç®¡ç†

### 7.1 Streamlit Session State

**ä½¿ç”¨ã•ã‚Œã‚‹ã‚­ãƒ¼**:

| ã‚­ãƒ¼ | å‹ | èª¬æ˜ | è¨­å®šç®‡æ‰€ | ä½¿ç”¨ç®‡æ‰€ |
|------|-----|------|---------|---------|
| uploaded_data | pd.DataFrame | ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸç”Ÿãƒ‡ãƒ¼ã‚¿ | tab1 | tab2, tab3 |
| uploaded_columns | List[str] | ã‚«ãƒ©ãƒ åãƒªã‚¹ãƒˆ | tab1 | - |
| processed_data | pd.DataFrame | å‰å‡¦ç†æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ | tab3 | tab4 |
| processing_config | Dict | å‰å‡¦ç†è¨­å®š | tab3 | tab4 |

**çŠ¶æ…‹é·ç§»å›³**:
```
[åˆæœŸçŠ¶æ…‹]
    â†“
uploaded_data è¨­å®š (tab1)
    â†“
æ¤œè¨¼å®Ÿè¡Œ (tab2) - uploaded_data å‚ç…§
    â†“
å‰å‡¦ç†å®Ÿè¡Œ (tab3) - uploaded_data å‚ç…§
    â†“
processed_data è¨­å®š (tab3)
    â†“
å‡ºåŠ›ãƒ»ä¿å­˜ (tab4) - processed_data å‚ç…§
```

### 7.2 ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸

**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ **:
```
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/
â”œâ”€ datasets/
â”‚  â”œâ”€ {dataset}_{split}_{size}_{timestamp}.csv
â”‚  â””â”€ {dataset}_{split}_{size}_{timestamp}_metadata.json
â””â”€ OUTPUT/
   â”œâ”€ preprocessed_{type}.csv
   â”œâ”€ {type}.txt
   â””â”€ metadata_{type}.json
```

---

## 8. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### 8.1 ã‚¨ãƒ©ãƒ¼å‡¦ç†æˆ¦ç•¥

| ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ | å‡¦ç†æ–¹æ³• | è¡¨ç¤º |
|-----------|---------|------|
| HF Datasetèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼ | try-except | st.error() |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼ | try-except | st.error() |
| å‰å‡¦ç†ã‚¨ãƒ©ãƒ¼ | @safe_execute | st.error() |
| ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼è­¦å‘Š | æ¤œè¨¼é–¢æ•°å†… | st.warning() |

### 8.2 ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­è¨ˆ

**HuggingFaceãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼**:
```python
st.error(f"ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: {str(e)}")
st.info("ğŸ’¡ ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆåã€configåã€splitåã‚’ç¢ºèªã—ã¦ãã ã•ã„")
```

**å‰å‡¦ç†ã‚¨ãƒ©ãƒ¼**:
```python
st.error(f"å‰å‡¦ç†ã‚¨ãƒ©ãƒ¼: {str(e)}")
logger.error(f"å‰å‡¦ç†ã‚¨ãƒ©ãƒ¼: {e}")
```

---

## 9. è¨­å®šç®¡ç†

### 9.1 ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆè¨­å®š

7ç¨®é¡ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆãã‚Œãã‚Œã«å¯¾ã—ã¦ã€`NonQARAGConfig.DATASET_CONFIGS`ã§ç®¡ç†ã€‚

### 9.2 UIè¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³

**å…±é€šè¨­å®š**:
- çŸ­ã„ãƒ†ã‚­ã‚¹ãƒˆã‚’é™¤å¤–: boolean (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: True)
- æœ€å°æ–‡å­—æ•°: int (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 100)
- é‡è¤‡ã‚’é™¤å»: boolean (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: True)

**ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå›ºæœ‰è¨­å®š**:

| ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ | è¨­å®šé …ç›® | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ |
|------------|---------|-------------|
| wikipedia_ja | remove_markup | True |
| wikipedia_ja | min_text_length | 200 |
| livedoor_news | remove_urls | True |
| livedoor_news | min_text_length | 100 |
| cc_news | remove_urls | True |
| pubmed/arxiv | preserve_citations | True |
| arxiv | include_article | False |
| github_code | include_code | True |
| github_code | language | "python" |
| stackoverflow | include_tags | True |
| stackoverflow | min_score | 0 |

---

## 10. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®äº‹é …

### 10.1 ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºåˆ¶é™

- HuggingFaceãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: sample_size ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§åˆ¶é™
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨: DataFrameã®head()ã‚„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã§åˆ¶é™
- arXivæœ¬æ–‡: æœ€åˆã®1000æ–‡å­—ã®ã¿ä½¿ç”¨

### 10.2 å‡¦ç†æœ€é©åŒ–

- ç©ºãƒ†ã‚­ã‚¹ãƒˆã®æ—©æœŸé™¤å¤–
- é‡è¤‡é™¤å»ã¯pandasçµ„ã¿è¾¼ã¿é–¢æ•°ã‚’ä½¿ç”¨
- ãƒ†ã‚­ã‚¹ãƒˆã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°ã¯helper_rag.clean_text()ã«å§”è­²

---

## 11. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### 11.1 ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ

- ãƒ•ã‚¡ã‚¤ãƒ«åã®ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³: `replace("/", "_").replace("-", "_")`
- ãƒ‘ã‚¹æ“ä½œ: pathlib.Path ã‚’ä½¿ç”¨
- ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°: UTF-8å›ºå®š

### 11.2 ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼

- å¿…é ˆã‚«ãƒ©ãƒ ã®å­˜åœ¨ç¢ºèª
- ãƒ‡ãƒ¼ã‚¿å‹ã®ãƒã‚§ãƒƒã‚¯
- ç©ºå€¤ã®æ¤œå‡º

---

## 12. ãƒ†ã‚¹ãƒˆè¦³ç‚¹

### 12.1 å˜ä½“ãƒ†ã‚¹ãƒˆå¯¾è±¡

1. NonQARAGConfig.get_config() - å…¨ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¿ã‚¤ãƒ—
2. NonQARAGConfig.get_all_datasets() - ãƒªã‚¹ãƒˆå–å¾—
3. validate_*_specific() - å„æ¤œè¨¼é–¢æ•°
4. extract_text_content() - å„ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¿ã‚¤ãƒ—

### 12.2 çµ±åˆãƒ†ã‚¹ãƒˆè¦³ç‚¹

1. ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ â†’ æ¤œè¨¼ â†’ å‰å‡¦ç† â†’ å‡ºåŠ›ã®å®Œå…¨ãƒ•ãƒ­ãƒ¼
2. HuggingFaceãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â†’ ä¿å­˜ â†’ èª­ã¿è¾¼ã¿
3. å„ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¿ã‚¤ãƒ—ã”ã¨ã®å‡¦ç†ç¢ºèª

### 12.3 UIãƒ†ã‚¹ãƒˆè¦³ç‚¹

1. ã‚¿ãƒ–é–“é·ç§»
2. session_state ã®çŠ¶æ…‹ä¿æŒ
3. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
4. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½

---

## 13. æ‹¡å¼µæ€§

### 13.1 æ–°è¦ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆè¿½åŠ æ‰‹é †

1. `NonQARAGConfig.DATASET_CONFIGS`ã«è¨­å®šè¿½åŠ 
2. ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå›ºæœ‰æ¤œè¨¼é–¢æ•°ã®è¿½åŠ ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
3. `extract_text_content()`ã«ç‰¹æ®Šå‡¦ç†è¿½åŠ ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
4. ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«å›ºæœ‰è¨­å®šUIè¿½åŠ ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

### 13.2 ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒã‚¤ãƒ³ãƒˆ

- ãƒ†ã‚­ã‚¹ãƒˆçµåˆãƒ­ã‚¸ãƒƒã‚¯: `extract_text_content()`
- æ¤œè¨¼ãƒ«ãƒ¼ãƒ«: `validate_*_specific()`é–¢æ•°ç¾¤
- UIè¡¨ç¤º: main()ã®ã‚¿ãƒ–æ§‹æˆ
- å‡ºåŠ›å½¢å¼: tab4ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å‡¦ç†

---

## 14. å‚ç…§æƒ…å ±

### 14.1 é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

- helper_rag.py: å…±é€šå‡¦ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- a01_load_set_rag_data.py: Q&Aç‰ˆå‡¦ç†ãƒ„ãƒ¼ãƒ«
- a02_set_vector_store_vsid.py: Vector Storeä½œæˆ
- a30_qdrant_registration.py: Qdrantãƒ‡ãƒ¼ã‚¿ç™»éŒ²

### 14.2 å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹

- HuggingFace Datasets: https://huggingface.co/datasets
- Streamlit Documentation: https://docs.streamlit.io
- OpenAI Embeddings: https://platform.openai.com/docs/guides/embeddings

---

**æ–‡æ›¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**æœ€çµ‚æ›´æ–°æ—¥**: 2025-10-03  
**ä½œæˆè€…**: openai_rag_jp ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ãƒ 
